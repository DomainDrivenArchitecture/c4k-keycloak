# TODO: Make generate-configmap function
apiVersion: v1
kind: ConfigMap
metadata:
  name: keycloak-env
  namespace: NAMESPACE
data:
  KC_HTTPS_CERTIFICATE_FILE: /etc/certs/tls.crt
  KC_HTTPS_CERTIFICATE_KEY_FILE: /etc/certs/tls.key
  KC_HOSTNAME: FQDN
  KC_PROXY: edge         
  DB_VENDOR: POSTGRES
  DB_ADDR: postgresql-service
  DB_SCHEMA: public
  DB_DATABASE: postgres
  # TODO Do we need to enable http, as we are behind ingress?
  # KC_HTTP_ENABLED: true
  # TODO Maybe also enable load shedding
  # KC_HTTP_MAX_QUEUED_REQUESTS: 2000
